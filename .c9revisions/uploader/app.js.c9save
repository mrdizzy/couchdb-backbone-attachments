{"ts":1360704139144,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\n/**\n * Module dependencies.\n */\n\nvar express = require('express')\n  , routes = require('./routes')\n  , user = require('./routes/user')\n  , http = require('http')\n  , path = require('path');\n\nvar app = express();\n\napp.configure(function(){\n  app.set('port', process.env.PORT || 3000);\n  app.set('views', __dirname + '/views');\n  app.set('view engine', 'jade');\n  app.use(express.favicon());\n  app.use(express.logger('dev'));\n  app.use(express.bodyParser());\n  app.use(express.methodOverride());\n  app.use(app.router);\n  app.use(express.static(path.join(__dirname, 'public')));\n});\n\napp.configure('development', function(){\n  app.use(express.errorHandler());\n});\n\napp.get('/', routes.index);\napp.get('/users', user.list);\n\nhttp.createServer(app).listen(app.get('port'), function(){\n  console.log(\"Express server listening on port \" + app.get('port'));\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":855}]],"length":855}
{"contributors":[],"silentsave":false,"ts":1360704232276,"patch":[[{"diffs":[[0,"r.list);"],[1,"\napp.put('/products/attachments/:id', function() {\n    console.log(params.id)\n})"],[0,"\n\nhttp.c"]],"start1":712,"start2":712,"length1":16,"length2":96}]],"length":935,"saved":false}
{"ts":1360704356032,"patch":[[{"diffs":[[0,"unction("],[1,"req, res"],[0,") {\n    "]],"start1":759,"start2":759,"length1":16,"length2":24},{"diffs":[[0,"log("],[-1,"params.id"],[1,"req"],[0,")\n})"]],"start1":791,"start2":791,"length1":17,"length2":11}]],"length":937,"saved":false}
{"ts":1360705845333,"patch":[[{"diffs":[[0,"('path')"],[1,",\n  database = require('config/database').test_import"],[0,";\n\nvar a"]],"start1":181,"start2":181,"length1":16,"length2":69}]],"length":990,"saved":false}
{"contributors":[],"silentsave":false,"ts":1360706529239,"patch":[[{"diffs":[[-1,"\n"],[0,"/**\n * M"]],"start1":0,"start2":0,"length1":9,"length2":8},{"diffs":[[0,"xpress')"],[1,","],[0,"\n  "],[-1,","],[1," "],[0," routes "]],"start1":57,"start2":57,"length1":20,"length2":21},{"diffs":[[0,"routes')"],[1,","],[0,"\n  "],[-1,","],[1," "],[0," user = "]],"start1":91,"start2":91,"length1":20,"length2":21},{"diffs":[[0,"s/user')"],[1,","],[0,"\n  "],[-1,","],[1," "],[0," http = "]],"start1":128,"start2":128,"length1":20,"length2":21},{"diffs":[[0,"tp')"],[1,","],[0,"\n  "],[-1,","],[1," "],[0," pat"]],"start1":160,"start2":160,"length1":12,"length2":13},{"diffs":[[0,"path'),\n"],[1,"  "],[0,"  databa"]],"start1":186,"start2":186,"length1":16,"length2":18},{"diffs":[[0,"e(function()"],[1," "],[0,"{\n  "],[1," "],[1," "],[0,"app.set('por"]],"start1":284,"start2":284,"length1":28,"length2":31},{"diffs":[[0," 3000);\n"],[1,"  "],[0,"  app.se"]],"start1":338,"start2":338,"length1":16,"length2":18},{"diffs":[[0,"/views');\n  "],[1," "],[1," "],[0,"app.set('vie"]],"start1":380,"start2":380,"length1":24,"length2":26},{"diffs":[[0,"jade');\n"],[1,"  "],[0,"  app.us"]],"start1":418,"start2":418,"length1":16,"length2":18},{"diffs":[[0,"vicon());\n  "],[1," "],[1," "],[0,"app.use(expr"]],"start1":448,"start2":448,"length1":24,"length2":26},{"diffs":[[0,"('dev'));\n  "],[1," "],[1," "],[0,"app.use(expr"]],"start1":484,"start2":484,"length1":24,"length2":26},{"diffs":[[0,"arser());\n  "],[1," "],[1," "],[0,"app.use(expr"]],"start1":519,"start2":519,"length1":24,"length2":26},{"diffs":[[0,"ide());\n"],[1,"  "],[0,"  app.us"]],"start1":560,"start2":560,"length1":16,"length2":18},{"diffs":[[0,"outer);\n"],[1,"  "],[0,"  app.us"]],"start1":585,"start2":585,"length1":16,"length2":18},{"diffs":[[0,"nction()"],[1," "],[0,"{\n"],[1,"  "],[0,"  app.us"]],"start1":690,"start2":690,"length1":18,"length2":21},{"diffs":[[0,"req, res) {\n"],[1,"console.log(req.body)\n    db.save(\"gogo\", {\n        name: \"gogo\",\n        _attachments: {\n            \"thumb.png\": {\n\n                \"content-type\": \"image/png\",\n                \"data\": \"blah\"\n            }\n        }},\n        function(error, doc) {\n\n        });\n\n    })\n\n// db.saveAttachment({ _id: req.params.product, _rev: req.body.rev}, \n//db.save(id, {\n//    _attachments: collated,\n//    type: \"product\"\n//}, function(err, doc) {\n//"],[0,"    console."]],"start1":847,"start2":847,"length1":24,"length2":463},{"diffs":[[0,"log("],[-1,"req)\n"],[1,"err, doc)\n//"],[0,"})\n\n"],[1,"\n"],[0,"http"]],"start1":1310,"start2":1310,"length1":17,"length2":25},{"diffs":[[0,"nction()"],[1," "],[0,"{\n"],[1,"  "],[0,"  consol"]],"start1":1380,"start2":1380,"length1":18,"length2":21}]],"length":1467,"saved":false}
{"ts":1360706570616,"patch":[[{"diffs":[[0,"equire('"],[1,"./"],[0,"config/d"]],"start1":210,"start2":210,"length1":16,"length2":18}]],"length":1469,"saved":false}
{"ts":1360706606892,"patch":[[{"diffs":[[0,") {\n"],[-1,"console.log(req.body)\n    db"],[1,"\n    database"],[0,".sav"]],"start1":857,"start2":857,"length1":36,"length2":21},{"diffs":[[0,"a\": "],[-1,"\"blah\""],[1,"req.body.binary"],[0,"\n   "]],"start1":1029,"start2":1029,"length1":14,"length2":23},{"diffs":[[0,"ror, doc) {\n"],[1,"console.log(error, doc)"],[0,"\n        });"]],"start1":1094,"start2":1094,"length1":24,"length2":47}]],"length":1486,"saved":false}
{"ts":1360706644963,"patch":[[{"diffs":[[0,"    "],[-1,"_attachments: {\n            \"thumb.png\": {\n\n                \"content-type\": \"image/png\",\n                \"data\": req.body.binary\n            }\n        }"],[0,"},\n "]],"start1":916,"start2":916,"length1":160,"length2":8}]],"length":1334,"saved":false}
{"ts":1360706659294,"patch":[[{"diffs":[[0,"        "],[1,"\"_attachments\": {\n            \"thumb.png\": {\n\n                \"content-type\": \"image/png\",\n                \"data\": req.body.binary\n            }\n        }"],[0,"},\n     "]],"start1":912,"start2":912,"length1":16,"length2":170}]],"length":1488,"saved":false}
{"ts":1360706706617,"patch":[[{"diffs":[[0,"e.save(\""],[-1,"gogo"],[1,"deedee"],[0,"\", {\n   "]],"start1":873,"start2":873,"length1":20,"length2":22},{"diffs":[[0,"e: \""],[-1,"gogo"],[1,"deedee"],[0,"\",\n "]],"start1":903,"start2":903,"length1":12,"length2":14},{"diffs":[[0,"a\": "],[-1,"req.body.binary"],[1,"\"data here\""],[0,"\n   "]],"start1":1035,"start2":1035,"length1":23,"length2":19}]],"length":1488,"saved":false}
{"ts":1360706751076,"patch":[[{"diffs":[[0,"a\": "],[-1,"\"data here\""],[1,"req.body.binary"],[0,"\n   "]],"start1":1035,"start2":1035,"length1":19,"length2":23}]],"length":1492,"saved":false}
{"ts":1360706763294,"patch":[[{"diffs":[[0,"e.save(\""],[-1,"deedee"],[1,"lololo"],[0,"\", {\n   "]],"start1":873,"start2":873,"length1":22,"length2":22}]],"length":1492,"saved":false}
{"ts":1360706920747,"patch":[[{"diffs":[[0," res) {\n"],[1,"console.log(req.body.binary)"],[0,"\n    dat"]],"start1":853,"start2":853,"length1":16,"length2":44}]],"length":1520,"saved":false}
{"ts":1360706997449,"patch":[[{"diffs":[[0,"y.binary"],[1,".split(\",\")[1]"],[0,")\n    da"]],"start1":880,"start2":880,"length1":16,"length2":30}]],"length":1534,"saved":false}
{"ts":1360707022182,"patch":[[{"diffs":[[0," res) {\n"],[-1,"console.log("],[1,"var result = "],[0,"req.body"]],"start1":853,"start2":853,"length1":28,"length2":29},{"diffs":[[0,"(\",\")[1]"],[-1,")"],[1,";"],[0,"\n    dat"]],"start1":895,"start2":895,"length1":17,"length2":17},{"diffs":[[0,"ata\": re"],[-1,"q.body.binary"],[1,"sult"],[0,"\n       "]],"start1":1076,"start2":1076,"length1":29,"length2":20}]],"length":1526,"saved":false}
{"ts":1360707131460,"patch":[[{"diffs":[[0,"ve(\""],[-1,"lolol"],[1,"booboobo"],[0,"o\", "]],"start1":920,"start2":920,"length1":13,"length2":16}]],"length":1529,"saved":false}
{"contributors":[],"silentsave":false,"ts":1360707269769,"patch":[[{"diffs":[[0,"tent"],[-1,"-"],[1,"_"],[0,"type"]],"start1":1036,"start2":1036,"length1":9,"length2":9}]],"length":1529,"saved":false}
{"ts":1360707283938,"patch":[[{"diffs":[[0,"ve(\""],[-1,"boobooboo"],[1,"nany"],[0,"\", {"]],"start1":920,"start2":920,"length1":17,"length2":12}]],"length":1524,"saved":false}
{"contributors":[],"silentsave":false,"ts":1361219110266,"patch":[[{"diffs":[[-1,"/**\n * Module dependencies.\n */\n\nvar express = require('express'),\n    routes = require('./routes'),\n    user = require('./routes/user"],[1,"var express = require('express"],[0,"'),\n"]],"start1":0,"start2":0,"length1":138,"length2":34},{"diffs":[[0,"ve(\""],[-1,"nany"],[1,"bopopo"],[0,"\", {"]],"start1":816,"start2":816,"length1":12,"length2":14}]],"length":1422,"saved":false}
{"ts":1361220240471,"patch":[[{"diffs":[[0,"');\n"],[-1,"    app.use(express.favicon());\n    app.use(express.logger('dev'));\n"],[0,"    "]],"start1":320,"start2":320,"length1":76,"length2":8},{"diffs":[[0,"    })\n\n"],[1,"var main = express();\nmain.use(\"/\", app);\n\n"],[0,"// db.sa"]],"start1":1011,"start2":1011,"length1":16,"length2":59}]],"length":1397,"saved":false}
{"ts":1361220280296,"patch":[[{"diffs":[[0,") {\n"],[-1,"var result = req.body.binary.split(\",\")[1];\n  "],[1,"    req.on(\"data\", function(chunk) {\n        \n    \n    }\n  /*"],[0,"  da"]],"start1":685,"start2":685,"length1":54,"length2":69},{"diffs":[[0,"    });\n"],[1,"*/"],[0,"\n"],[-1,""],[0,"    })\n\n"]],"start1":1017,"start2":1017,"length1":17,"length2":19},{"diffs":[[0,"oc)\n"],[1,""],[0,"//})\n\n"],[-1,"\n"],[0,"http"]],"start1":1267,"start2":1267,"length1":15,"length2":14}]],"length":1413,"saved":false}
{"ts":1361220286674,"patch":[[{"diffs":[[0,"})\n\n"],[-1,"var main = express();\nmain.use(\"/\", app);\n"],[0,"\n// "]],"start1":1032,"start2":1032,"length1":50,"length2":8}]],"length":1371,"saved":false}
{"ts":1361220294787,"patch":[[{"diffs":[[0,"x);\n"],[-1,"app.get('/users', user.list);\n"],[0,"app."]],"start1":597,"start2":597,"length1":38,"length2":8}]],"length":1341,"saved":false}
{"ts":1361220308179,"patch":[[{"diffs":[[0,"        "],[-1,"\n    "],[1,"console.log(chunk)"],[0,"\n    }\n "]],"start1":696,"start2":696,"length1":21,"length2":34}]],"length":1354,"saved":false}
{"ts":1361220320814,"patch":[[{"diffs":[[0,"on(chunk) {\n"],[1,"        console.log(req.body)\n"],[0,"        cons"]],"start1":684,"start2":684,"length1":24,"length2":54},{"diffs":[[0,"k)\n    }"],[-1,"\n"],[1,")\n  "],[0,"  /*  da"]],"start1":750,"start2":750,"length1":17,"length2":20},{"diffs":[[0," });\n*/\n"],[-1,"    "],[0,"})\n\n\n// "]],"start1":1036,"start2":1036,"length1":20,"length2":16}]],"length":1383,"saved":false}
{"ts":1361220346544,"patch":[[{"diffs":[[0,") {\n"],[-1,"    app.set('port', process.env.PORT || 3000);\n"],[0,"    "]],"start1":193,"start2":193,"length1":55,"length2":8},{"diffs":[[0,"ten("],[-1,"app.get('port'), function() {\n    console.log(\"Express server listening on port \" + app.get('port'));\n});\n"],[1,"process.env.PORT);"]],"start1":1226,"start2":1226,"length1":110,"length2":22}]],"length":1248,"saved":false}
{"ts":1361220358743,"patch":[[{"diffs":[[0,");\n\n"],[-1,"app.get('/', routes.index);\n"],[0,"app."]],"start1":522,"start2":522,"length1":36,"length2":8}]],"length":1220,"saved":false}
{"ts":1361220551242,"patch":[[{"diffs":[[0,"req, res) {\n"],[1,"    console.log(\"Going on\")\n"],[0,"    req.on(\""]],"start1":572,"start2":572,"length1":24,"length2":52}]],"length":1248,"saved":false}
{"ts":1361220580895,"patch":[[{"diffs":[[0,".log(req"],[-1,".body"],[0,")\n      "]],"start1":664,"start2":664,"length1":21,"length2":16}]],"length":1243,"saved":false}
{"ts":1361220675158,"patch":[[{"diffs":[[0,".log(req"],[1,".rawBody"],[0,")\n      "]],"start1":664,"start2":664,"length1":16,"length2":24}]],"length":1251,"saved":false}
{"ts":1361220689626,"patch":[[{"diffs":[[0,"ng on\")\n"],[1,"    console.log(req.rawBody)\n"],[0,"    req."]],"start1":604,"start2":604,"length1":16,"length2":45},{"diffs":[[0,"    "],[-1,"console.log(req.rawBody)"],[0,"\n   "]],"start1":682,"start2":682,"length1":32,"length2":8}]],"length":1256,"saved":false}
{"ts":1361220885262,"patch":[[{"diffs":[[0,"', 'jade');\n"],[1,"    app.use(function(req, res, next) {\n        req.on(\"data\", function(chunk) {\n            console.log(chunk);\n        })\n        next();\n    })\n"],[0,"    app.use("]],"start1":265,"start2":265,"length1":24,"length2":170}]],"length":1402,"saved":false}
{"ts":1361220948811,"patch":[[{"diffs":[[0,", next) {\n  "],[1,"\n    app.use(express.bodyParser());\n    "],[0,"      req.on"]],"start1":306,"start2":306,"length1":24,"length2":64},{"diffs":[[0," })\n"],[-1,"    app.use(express.bodyParser());\n"],[0,"    "]],"start1":459,"start2":459,"length1":43,"length2":8}]],"length":1407,"saved":false}
{"ts":1361221362427,"patch":[[{"diffs":[[0,"(req"],[-1,".rawBody"],[0,")\n  "]],"start1":778,"start2":778,"length1":16,"length2":8}]],"length":1399,"saved":false}
{"ts":1361221366756,"patch":[[{"diffs":[[0,"    "],[-1,"  console.log(chunk);"],[0,"\n   "]],"start1":403,"start2":403,"length1":29,"length2":8}]],"length":1378,"saved":false}
{"ts":1361221634095,"patch":[[{"diffs":[[0,"\n   "],[-1," app.use(express.bodyParser());\n          req.on(\"data\", function(chunk) {\n          \n        })\n        next();\n    })"],[0,"\n   "]],"start1":318,"start2":318,"length1":127,"length2":8},{"diffs":[[0,"\n   "],[-1," console.log(req)"],[0,"\n   "]],"start1":622,"start2":622,"length1":25,"length2":8}]],"length":1242,"saved":false}
{"ts":1361221652663,"patch":[[{"diffs":[[0,"xt) {\n  \n   "],[1," }) "],[0,"\n    app.use"]],"start1":310,"start2":310,"length1":24,"length2":28}]],"length":1246,"saved":false}
{"ts":1361221699355,"patch":[[{"diffs":[[0,"');\n"],[-1,"    app.use(function(req, res, next) {\n  \n    }) "],[0,"\n   "]],"start1":273,"start2":273,"length1":57,"length2":8}]],"length":1197,"saved":false}
{"ts":1361221745351,"patch":[[{"diffs":[[0,"og(chunk"],[1,".toString()"],[0,")\n    })"]],"start1":645,"start2":645,"length1":16,"length2":27}]],"length":1208,"saved":false}
{"ts":1361221862304,"patch":[[{"diffs":[[0,"ng on\")\n   \n"],[1,"        console.log(req.params)\n"],[0,"    req.on(\""]],"start1":570,"start2":570,"length1":24,"length2":56},{"diffs":[[0,") {\n"],[-1,"        \n"],[0,"    "]],"start1":647,"start2":647,"length1":17,"length2":8}]],"length":1231,"saved":false}
